ğŸ“ Repository

GitHub: https://github.com/sepic222/astro-backend-clean
Branch: main
Tag: v1.1-stable-backend (âœ… fully functional)

â¸»

ğŸ§­ Current Status
	â€¢	Backend runs cleanly with all major endpoints working
	â€¢	Database (Prisma + SQLite) seeded and verified
	â€¢	Frontend connects successfully via http://localhost:3001
	â€¢	Project structure cleaned and standardized (no nested folders)
	â€¢	Documentation suite complete:
	â€¢	README.md â†’ full setup & API overview
	â€¢	CHANGELOG.md â†’ version history
	â€¢	CONTRIBUTING.md â†’ developer workflow
	â€¢	SECURITY.md â†’ vulnerability reporting
	â€¢	BASELINE.md â†’ architecture & system map
	â€¢	architecture-diagram.png â†’ visual flow

âš™ï¸ Quickstart for New Devs

git clone https://github.com/sepic222/astro-backend-clean.git
cd astro-backend-clean
npm install
cp .env.example .env
# Add your OpenAI + OpenCage keys
node server.js

Then open:
	â€¢	Backend health check â†’ http://localhost:3001/health
	â€¢	Prisma DB viewer â†’ npx prisma studio
	â€¢	Frontend (if local) â†’ http://localhost:5173/survey?new=1

ğŸ”© Verified Endpoints

(Method
Route
Description)
GET
/health
Returns { ok: true, status: 'healthy' } to confirm the backend is running.
GET
/api/geocode?city=Berlin&country=Germany
Performs forward geocoding using the OpenCage API and returns latitude/longitude.
POST
/api/birth-chart-swisseph
Computes a full birth chart using Swiss Ephemeris and saves the record in the database.
POST
/api/survey/submit
Receives user survey responses, links them to a chart, builds the reading, and triggers email generation.
GET
/__routes
Lists all registered Express routes for debugging.
GET
/dev/email/preview/:outboxId
Displays a stored email HTML preview (useful for local testing).


ğŸ§± Key Technologies

	â€¢	Node.js (Express)
	â€¢	Prisma ORM (SQLite)
	â€¢	Swiss Ephemeris
	â€¢	OpenCage API
	â€¢	OpenAI API
	â€¢	React (Vite frontend)
